import Definitions from "../components/Definitions";

const GLITCHES_USES = [
  {
    label: "Reduce Test Difficulty",
    description: "-4DR to one test (before rolling)",
  },
  {
    label: "Neutralize Critical/Fumble",
    description: "Cancel a Crit or Fumble result",
  },
  {
    label: "Reduce Incoming Damage",
    description: "Lower damage dealt to you by d6",
  },
  {
    label: "Deal Maximum Damage",
    description: "Deal maximum damage with one attack",
  },
  {
    label: "Reroll",
    description: "Reroll a dice roll (yours or someone else's)",
  },
];

const HP_AT_ZERO = [
  {
    label: "1-2: Fall Unconscious",
    description: "Fall unconscious for d4 rounds, awaken with d4 HP",
  },
  {
    label: "3-4: Cy-Rage Test",
    description: "Test Presence DR10 with +1DR for every cybertech installed. Unconscious as above on success. Cy-rage on failure.",
  },
  {
    label: "5-6: Critical Injury",
    description: "Roll on the body table to see where you were hit. The body part is destroyed and has to be replaced or regrown. Unable to act for d4 rounds then become active with d4 HP.",
  },
  {
    label: "7: Hemorrhage",
    description: "Death in d2 hours unless treated. All tests are DR16 in the first hour, DR18 the last hour.",
  },
  {
    label: "8: Dead*",
    description: "*Unless you can pay. If you have a personal bank account with at least 1k¤, there is a 50% chance for an Emergency Response Team to reach you in time to save your life if you are at 0 or -1 HP. Add an additional zero to the bill for each negative HP thereafter.",
  },
];

const CY_RAGE = {
  label: "Cy-Rage",
  description: <>Someone in CY-RAGE goes berserk, temporarily gains +d8 HP and attacks random targets twice per round with their most effective weapon. Attacks are DR10 and defense DR14. This doesn't stop until Battered, Dead, or otherwise sedated.</>,
};

const DIFFICULTY_RATINGS = [
  { label: "DR6", description: "Simple" },
  { label: "DR8", description: "Routine" },
  { label: "DR10", description: "Easy" },
  { label: "DR12", description: "Normal" },
  { label: "DR14", description: "Difficult" },
  { label: "DR16", description: "Really Hard" },
  { label: "DR18", description: "Almost Impossible" },
];

const COMBAT_BASICS = [
  {
    label: "Initiative",
    description: "Roll d6: 1-3 enemies act first, 4-6 PCs act first. If necessary: Agility+d6 to determine who acts first within the group.",
  },
  {
    label: "Melee Attack",
    description: "Test Strength DR12 to hit, then roll for damage.",
  },
  {
    label: "Ranged Attack (Single Shot)",
    description: "Test Presence DR12 to hit, then roll for damage.",
  },
  {
    label: "Autofire",
    description: "Test Agility DR12 to hit, then roll for damage. Hits also allow a second attack, against either the same target or another one nearby, up to a maximum of three attacks. Check armor for each hit.",
  },
  {
    label: "Defense",
    description: "Test Agility DR12 to avoid an enemy's attack.",
  },
  {
    label: "Critical (Natural 20)",
    description: "Attack: Double damage and target's armor/cover is also reduced by 1 tier. Defense: PC gains a free attack.",
  },
  {
    label: "Fumble (Natural 1)",
    description: "Attack: Roll d6 - weapon mishap. Defense: PC takes double damage and armor/cover is reduced 1 tier.",
  },
];

const ARMOR_TIERS = [
  { label: "No Armor", description: "No damage reduction" },
  { label: "-d2 Armor", description: "Reduces incoming damage by d2" },
  { label: "-d4 Armor", description: "Reduces incoming damage by d4" },
  { label: "-d6 Armor", description: "Reduces incoming damage by d6" },
];

export default function Home() {
  return (
    <div className="max-w-5xl mx-auto px-6 py-8">
      <div className="mb-8">
        <h1 className="text-5xl font-black text-cy-cyan mb-2 tracking-tight uppercase">
          CY_BORG
        </h1>
        <p className="text-xl text-gray-400">Character Creator</p>
      </div>

      {/* Introduction */}
      <div className="mb-8 bg-gradient-to-r from-cy-cyan/10 to-transparent border-l-4 border-cy-cyan p-6">
        <p className="mb-4 leading-relaxed text-gray-300">
          Welcome to the year 20X3. Welcome to the City of Cy. The world is ending. Again and again and again.
          Constantly in flux; shifting, distorting, always reborn as something worse.
        </p>
        <p className="mb-4 leading-relaxed text-gray-300">
          You are a punk—infected/injected/infested with something. You want something from everyone else.
          You are a liar and a cheat. Everyone wants more creds.
        </p>
        <div className="mt-6 bg-cy-pink/20 border-l-4 border-cy-pink p-4">
          <p className="font-bold text-cy-pink mb-2 uppercase">RULE #00:</p>
          <p className="text-sm text-gray-300">
            Player Characters cannot be loyal to or have sympathy for the corps,
            the cops, or the capitalist system. They might find themselves reluctantly forced to do missions
            for them or their minions. But make no mistake—they are the enemy.
          </p>
        </div>
      </div>

      <div className="divider" />

      {/* Core Mechanics */}
      <section className="mb-8">
        <h2 className="text-3xl font-black text-cy-yellow mb-4 uppercase">Core Mechanics</h2>

        <div className="bg-gray-900/50 border border-gray-800 p-6 mb-6">
          <h3 className="text-xl font-bold text-cy-pink mb-1">Tests</h3>
          <p className="mb-4 leading-relaxed text-gray-300">
            To succeed on a test, roll <strong className="text-cy-yellow">d20 ± your Ability Score</strong> with a result equal to or
            greater than the <strong className="text-cy-yellow">Difficulty Rating (DR)</strong>.
          </p>
          <p className="text-gray-400 text-sm">
            Enemies and opponents don't roll to attack. Instead, the player character rolls to defend or resist.
          </p>
        </div>

        {/* <Definitions definitions={DIFFICULTY_RATINGS} /> */}
      </section>

      <div className="divider" />

      {/* Abilities */}
      <section className="mb-8">
        <h2 className="text-3xl font-black text-cy-yellow mb-4 uppercase">Abilities</h2>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <div className="bg-gray-900/50 border border-gray-800 p-4 hover:border-gray-700 transition-colors">
            <h3 className="text-lg font-bold text-cy-cyan mb-2">Strength</h3>
            <p className="text-sm text-gray-400">Melee attacks, physical force</p>
          </div>
          <div className="bg-gray-900/50 border border-gray-800 p-4 hover:border-gray-700 transition-colors">
            <h3 className="text-lg font-bold text-cy-cyan mb-2">Agility</h3>
            <p className="text-sm text-gray-400">Defense, autofire, dodging</p>
          </div>
          <div className="bg-gray-900/50 border border-gray-800 p-4 hover:border-gray-700 transition-colors">
            <h3 className="text-lg font-bold text-cy-cyan mb-2">Presence</h3>
            <p className="text-sm text-gray-400">Ranged attacks, social interaction, Cy-rage resistance</p>
          </div>
          <div className="bg-gray-900/50 border border-gray-800 p-4 hover:border-gray-700 transition-colors">
            <h3 className="text-lg font-bold text-cy-cyan mb-2">Toughness</h3>
            <p className="text-sm text-gray-400">Physical resilience, determines starting HP</p>
          </div>
          <div className="bg-gray-900/50 border border-gray-800 p-4 hover:border-gray-700 transition-colors">
            <h3 className="text-lg font-bold text-cy-cyan mb-2">Knowledge</h3>
            <p className="text-sm text-gray-400">Information, hacking, technical skills</p>
          </div>
        </div>
      </section>

      <div className="divider" />

      {/* Glitches */}
      <section className="mb-8">
        <h2 className="text-3xl font-black text-cy-yellow mb-4 uppercase">Glitches</h2>
        <div className="bg-gray-900/50 border border-gray-800 p-6 mb-4">
          <p className="mb-4 leading-relaxed text-gray-300">
            You don't know why, but sometimes the constant bad luck seems to... <span className="text-cy-cyan italic">glitch</span>.
            You begin with <strong className="text-cy-yellow">d2 Glitches</strong> (unless your class says otherwise) and regain them
            by rolling that d2 (or class-based die) again after you've spent all Glitches and have had the
            chance to rest.
          </p>
        </div>

        <h3 className="text-xl font-bold text-cy-pink mb-1">You Can Use Them To:</h3>
        <Definitions definitions={GLITCHES_USES} />
      </section>

      <div className="divider" />

      {/* Hit Points & Damage */}
      <section className="mb-8">
        <h2 className="text-3xl font-black text-cy-yellow mb-4 uppercase">Hit Points & Damage</h2>
        {/* <div className="bg-gray-900/50 border border-gray-800 p-6 mb-6">
          <p className="text-lg text-gray-300">
            Punks start with <strong className="text-cy-yellow">Toughness + d8 HP</strong> (but never less than 1).
          </p>
        </div> */}

        <h3 className="text-xl font-bold text-cy-pink mb-1">At Zero HP (Roll d8):</h3>
        <Definitions definitions={HP_AT_ZERO} />

        <div className="bg-red-900/20 border-2 border-red-600 p-6 my-6">
          <Definitions definitions={[CY_RAGE]} />
        </div>

        <h3 className="text-xl font-bold text-cy-pink mb-1 mt-6">Negative HP:</h3>
        <p className="mb-4 text-gray-300"><strong className="text-red-500">Dead*</strong> — Unless you can pay. See "8: Dead*" above.</p>

        <h3 className="text-xl font-bold text-cy-pink mb-1 mt-6">Armor</h3>
        <Definitions definitions={ARMOR_TIERS} />
      </section>

      <div className="divider" />

      {/* Combat */}
      <section className="mb-8">
        <h2 className="text-3xl font-black text-cy-yellow mb-4 uppercase">Combat</h2>
        <Definitions definitions={COMBAT_BASICS} />

        <div className="bg-gray-900/50 border border-gray-800 p-6 mt-6">
          <h3 className="text-xl font-bold text-cy-pink mb-1">After Combat:</h3>
          <p className="mb-1 text-gray-300">
            <strong className="text-cy-yellow">Count Your Bullets:</strong> Roll d8 (or d6 if you used autofire) for each weapon you have
            fired. A result of 1-3 indicates your mag is empty and has to be replaced.
          </p>
          <p className="text-gray-300">
            <strong className="text-cy-yellow">If There's Still Time:</strong> Catch your breath, wipe your brow. Restore d4 HP.
          </p>
        </div>
      </section>

      <div className="divider" />

      {/* Rest & Recovery */}
      <section className="mb-8">
        <h2 className="text-3xl font-black text-cy-yellow mb-4 uppercase">Rest & Recovery</h2>
        <div className="bg-gray-900/50 border border-gray-800 p-6">
          <ul className="space-y-3 text-gray-300">
            <li><strong className="text-cy-cyan">After Combat (Short Rest):</strong> Sit down, hydrate, breathe. Take ten. Restore d4 HP.</li>
            <li><strong className="text-cy-cyan">Full Night's Rest:</strong> Eat, drink, and sleep for a full night and restore d6 HP.</li>
            <li><strong className="text-cy-cyan">Without Food/Water:</strong> If you don't eat, you are unable to recover HP, and each day
            without food or drink, you lose d4 HP. All tests are +2DR per day without rest.</li>
          </ul>
        </div>
      </section>

      <div className="divider" />

      {/* Time */}
      <section className="mb-8">
        <h2 className="text-3xl font-black text-cy-yellow mb-4 uppercase">Time</h2>
        <div className="bg-gray-900/50 border border-gray-800 p-6">
          <ul className="space-y-2 text-gray-300">
            <li>A round is enough time to traverse a normal-sized room and either attack once, activate an App or use Nano.</li>
            <li>Ten rounds make up about a minute.</li>
          </ul>
        </div>
      </section>

      <div className="divider" />

      {/* Carrying Capacity */}
      <section className="mb-8">
        <h2 className="text-3xl font-black text-cy-yellow mb-4 uppercase">Carrying Capacity</h2>
        <div className="bg-gray-900/50 border border-gray-800 p-6">
          <p className="text-gray-300">
            You can carry <strong className="text-cy-yellow">Strength+8 normal-sized items</strong> without a problem. After that,
            Strength and Agility DRs increase by 2. You can't carry more than twice Strength+8.
          </p>
        </div>
      </section>

      <div className="divider" />

      {/* Getting Started */}
      <section className="mb-8">
        <div className="bg-cy-yellow/10 border-2 border-cy-yellow p-8">
          <h2 className="text-3xl font-black text-cy-yellow mb-6 uppercase">Getting Started</h2>
          <ol className="space-y-3 list-decimal list-inside text-gray-300">
            <li><strong className="text-cy-yellow">Choose a Class:</strong> Select from 6 optional classes or create a custom punk</li>
            <li><strong className="text-cy-yellow">Roll Abilities:</strong> Generate your ability scores based on your class</li>
            <li><strong className="text-cy-yellow">Determine HP:</strong> Roll Toughness + d8 (minimum 1)</li>
            <li><strong className="text-cy-yellow">Roll Glitches:</strong> Roll d2 (or your class die) for starting Glitches</li>
            <li><strong className="text-cy-yellow">Select Starting Gear:</strong> Roll for weapons, armor, and equipment</li>
            <li><strong className="text-cy-yellow">Add Flavor:</strong> Roll for Style, Features, Wants, Quirks, and Obsessions</li>
            <li><strong className="text-cy-yellow">Choose Starting Items:</strong> Roll d8 and d12 tables for additional gear</li>
            <li><strong className="text-cy-yellow">Calculate Debt:</strong> Roll for who you owe and how much (if applicable)</li>
          </ol>
        </div>
      </section>
    </div>
  );
}
